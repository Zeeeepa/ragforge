name: test-change-tracking-tools
version: 1.0.0

entities:
  - name: Scope
    unique_field: uuid

    # Enable change tracking
    track_changes: true
    change_tracking:
      content_field: source
      metadata_fields:
        - name
        - file
        - type
      hash_field: hash

    searchable_fields:
      - name: name
        type: string
        description: Scope name (function/class/method)
      - name: file
        type: string
        description: File path
      - name: type
        type: string
        description: Scope type (function, class, method)
      - name: source
        type: string
        description: Full source code
      - name: hash
        type: string
        description: Content hash for change detection

    relationships:
      - type: CONSUMES
        target: Scope
        direction: outgoing
