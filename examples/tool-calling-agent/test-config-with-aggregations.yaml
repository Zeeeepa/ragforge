name: test-aggregation-tools
version: 1.0.0

entities:
  - name: Scope
    unique_field: uuid
    searchable_fields:
      - name: name
        type: string
        description: Scope name (function/class/method)
      - name: file
        type: string
        description: File path
      - name: type
        type: string
        description: Scope type (function, class, method)
      - name: startLine
        type: number
        description: Starting line number
      - name: endLine
        type: number
        description: Ending line number
      - name: complexity
        type: number
        description: Cyclomatic complexity score

    # Computed fields for aggregations
    computed_fields:
      - name: line_count
        type: number
        description: Number of lines in this scope
        expression: endLine - startLine + 1

    relationships:
      - type: CONSUMES
        target: Scope
        direction: outgoing
